
**Ομάδα ρομποτικής 8ου Γυμνασίου Περιστερίου - Robuino**

﻿**Η τεκμηρίωση του έργου**

**Το έργο μας για το 1ο Πανελλήνιο Διαγωνισμό Εκπαιδευτικής Ρομποτικής & Physical Computing Ανοιχτών Τεχνολογιών – Το παιχνίδι ArduPlane**

**Περιγραφή παιχνιδιού ArduPlane**

Η πρότασή μας περιλαμβάνει τη δημιουργία/προγράμματος παιχνιδιού (σε προγραμματιστικό περιβάλλον Scratch 2.00) καθώς και αντίστοιχου χειριστηρίου μέσω του οποίου θα παίζεται το παιχνίδι (με χρήση Arduino uno). Το παιχνίδι περιλαμβάνει αεροπλάνο το οποίο θα κινείται δεξιά αριστερά στη σκηνή με τη περιστροφή του **ποτενσιομέτρου** το οποίο θα υπάρχει στο κύκλωμα του χειριστηρίου. Στόχος μας είναι η αποφυγή της σύγκρουσης με εχθρικό αεροπλάνο που έρχεται από την αντίθετη κατεύθυνση. Κατά την έναρξη του παιχνιδιού στο χειριστήριο θα είναι αναμμένα **τρία λαμπάκια (leds)** που δείχνουν ότι έχουμε τρεις ζωές. Με απώλεια κάθε ζωής (σύγκρουση με εχθρικό αεροπλάνο) θα σβήνει και από ένα λαμπάκι στο χειριστήριο ενώ παράλληλα θα ακούγεται και ήχος από **piezo buzzer**. Όταν σβήσουν όλα τα λαμπάκια (απώλεια όλων των ζωών) το παιχνίδι θα τερματίζεται. Στο χειριστήριο επιπλέον θα υπάρχουν δύο πλήκτρα (buttons): 

• με πάτημα στο ένα **πλήκτρο (button1)** θα μπορεί το αεροπλάνο μας να πυροβολεί προς το εχθρικό αεροπλάνο και όταν τα πυρά μας το πετυχαίνουν θα κερδίζουμε 20 πόντους οπότε το σκορ μας θα αυξάνεται 

• με πάτημα στο δεύτερο **πλήκτρο (button2)** θα αυξάνεται ο βαθμός δυσκολίας του παιχνιδιού με εμφάνιση δύο εχθρικών αεροπλάνων ταυτόχρονα σε διαφορετικό σκηνικό.

Τι θα χρειασθούμε για την υλοποίηση του έργου μας:

**Υλικά**

Για το κύκλωμα του χειριστηρίου,απαιτούνται τα εξής υλικά (για δημιουργία του προτοτύπου σε Breadboard):

**• 1 board Arduino uno/ Arduino nano**

**• 1 Breadboard για τη δημιουργία κυκλώματος / διάτρητη πλακέτα**

**• 3 Αντιστάσεις 220 Ω**

**• 2 Αντιστάσεις 10 ΚΩ**

**• 3 κόκκινα leds (5mm)**

**• 1 περιστροφικό ποτενσιόμετρο**

**• 2 buttons (διακόπτες)**

**• 1 piezo buzzer**

**Παρατήρηση:** Στην ολοκληρωμένη κατασκευή του το χειριστήριο υλοποιείται με χρήση διάτρητης πλακέτας (αντί Breadboard) με Arduino Nano αντι Arduino Uno και περιέχεται σε ανάλογο για τη χρήση του κουτί.

**Απαιτούμενο Λογισμικό**
Το Arduino uno του παραπάνω κυκλώματος συνδέεται στη usb θύρα υπολογιστή (με λειτουργικό σύστημα κατά προτίμηση linux Ubuntu/ελεύθερο και ανοικτό λογισμικό) στον οποίο είναι εγκατεστημένο το περιβάλλον οπτικού προγραμματισμού Scratch 2.0 με την επέκταση s2aio, και στο οποίο θα έχει φορτωθεί το προς εκτέλεση πρόγραμμα του παιχνιδιού.

**Η Εγκατάσταση του απαιτούμενου Λογισμικού για το προγραμματισμό του παιχνιδιού Arduplane**

O προγραμματισμός του παιχνιδιού και του Arduino γίνεται στο περιβάλλον οπτικού προγραμματισμού Scratch 2.0 με την επέκταση s2aio.
Παρακάτω περιγράφεται αναλυτικά η διαδικασία για την εγκατάστασή του.

**Η επέκταση s2aio για τον επεξεργαστή εκτός σύνδεσης (Offline Editor) του προγραμματιστικού περιβάλλοντος Scratch 2.0**

Με την **επέκταση s2aio** μπορούμε να προγραμματίσουμε, να ελέγξουμε και να παρακολουθήσουμε το Arduino (board) χρησιμοποιώντας το περιβάλλον οπτικού προγραμματιστικού Scratch 2.0 χωρίς να χρειάζεται να μάθουμε τη C. Περιλαμβάνει ένα σύνολο εντολών προγραμματισμού (μπλοκ) σε πολλές γλώσσες μεταξύ των οποίων και την Ελληνική. .
Η επέκταση έχει τα παρακάτω χαρακτηριστικά:

    • Είναι γραμμένη σε Python χρησιμοποιώντας τη νέα βιβλιοθήκη Python 3.5 asyncio.
   
    • Εγκαθίσταται σε Windows, Mac και Linux (συμπεριλαμβανομένου του Raspberry Pi Debian).
    
    • Είναι εύκολη στην εγκατάσταση.
    
    • Και εύχρηστη.

**H Εγκατάσταση της επέκτασης s2aio (για windows 7)**

Πριν εγκαταστήσετε **την επέκταση s2aio** απαιτούνται οι παρακάτω ενέργειες:

    • Εγκατάσταση **Python 3.5**

    • Εγκατάσταση του **IDE του Arduino**

    • Εγκατάσταση του λογισμικού **FirmataPlus** στο Arduino σας – ΑΠΑΙΤΕΙΤΑΙ!

    • Εγκατάσταση του προγραμματιστικού περιβάλλοντος **Scratch 2.0 (offline Editor)**


**Εγκατάσταση Python 3.5**

Για να εγκαταστήσετε το Python 3.5, μεταβείτε στην αρχική σελίδα της Python και κάντε λήψη της διανομής 3.5 για το λειτουργικό σας σύστημα.Εάν έχετε εγκατεστημένη τη Python 2.7, δεν χρειάζεται να την αφαιρέσετε. Πρέπει οπωσδήποτε να χρησιμοποιήσετε τη Python 3.5 για να εκτελέσετε s2aio.
![Github Robuino](/images/1.png)

Κατά τη διάρκεια της διαδικασίας εγκατάστασης, όπως φαίνεται και στο παραπάνω παράθυρο (περιβάλλον windows) υπάρχουν δύο πλαίσια ελέγχου όπως αυτό για να προσθέσουμε τη Python 3.5 στη διαδρομή (path), βεβαιωθείτε ότι τα έχετε επιλέξει (τσεκάρει) πριν προχωρήσετε στην εγκατάσταση.  Μετά την εγκατάσταση, ανοίξτε ένα παράθυρο εντολών και πληκτρολογήστε: python -V. Θα πρέπει να δείτε Python 3.5.0 ή κάτι παρόμοιο.


**Εγκατάσταση του IDE του Arduino**

Εγκαταστήστε την τελευταία έκδοση του αρχείου **Arduino IDE** από τη σελίδα λήψης του Arduino. Κατά την εγκατάσταση, μπορεί να σας ζητηθεί να φορτώσετε ένα πρόγραμμα οδήγησης για σύνδεση USB / σειριακής επικοινωνίας. Φορτώστε το πρόγραμμα οδήγησης.

Μετά την εγκατάσταση, συνδέστε το Arduino στον υπολογιστή σας με το καλώδιο USB.

Ανοίξτε το IDE και από το μενού Εργαλεία, επιλέξτε τον τύπο του Arduino (board) που έχετε και τη θύρα.

Στη συνέχεια, από το μενού **Αρχείο / Παραδείγματα / 01.Basics**, επιλέξτε το πρόγραμμα Blink και μεταφορτώστε το στο Arduino. Έτσι επαληθεύουμε ότι μπορούμε να επικοινωνήσουμε με το Arduino.

Ένα χρήσιμο βίντεο για τα παραπάνω που αφορούν την εγκατάσταση και τον έλεγχο του IDE μπορείτε να δείτε στη παρακάτω διεύθυνση:

https://www.youtube.com/watch?time_continue=313&v=5YDsX6zZ3b4 

Μόλις αυτό είναι επιτυχές, μεταφορτώστε το **StandardFirmata** (που παρέχεται με το IDE του Arduino) ή το **FirmataPlus**. 
**Το FirmataPlus πρέπει οπωσδήποτε να φορτωθεί στο Arduino για να μπορείτε να χρησιμοποιήσετε είτε τις ιδιότητες σόναρ ή ήχου του s2aio.**


**Μεταφόρτωση του FirmataPlus στο Arduino**

Το **FirmataPlus** είναι μια βελτιωμένη έκδοση του StandardFirmata που περιλαμβάνεται σε αυτή τη διανομή.
**ΠΡΟΣΟΧΗ:** Το FirmataPlus είναι διαφορετικό από το StandardFirmataPlus. Το StandardFirmataPlus δεν θα λειτουργήσει σωστά.
Το FirmataPlus παρέχει υποστήριξη για:

    **• HC-SR04 συσκευές εντοπισμού απόστασης (Sonar)**
    
    **• Υποστήριξη μοτέρ (Stepper Motor )**
    
    **• Γεννήτρια τόνων**
    
Για όσους χρησιμοποιούν τις πλακέτες Leonardo και Mega 2560 , θα χρειασθεί να μεταφορτώσουν το FirmataPlus32u4 αντί για το FirmataPlus.
Το FirmataPlus διανέμεται ως αρχείο zip. Αν έχετε κατεβάσει την διανομή pyamta_aio από το Github και έχετε εξάγει τα αρχεία, θα βρείτε ένα αρχείο libraries.zip στον κατάλογο του FirmataPlus. Μπορείτε επίσης να το κατεβάσετε απευθείας από 
https://github.com/MrYsLab/pymata-aio/blob/master/FirmataPlus/libraries.zip . 
Κάντε κλικ στο κουμπί **"view raw"** για λήψη.
Ανοίξτε το IDE του Arduino και επιλέξτε Αρχείο / Προτιμήσεις για να καθορίσετε τη θέση του προγράμματος.
![Github Robuino](/images/2.png)
Κλείστε το IDE του Arduino και εξαγάγετε το αρχείο **libraries.zip** στον κατάλογο τοποθεσίας **sketchbook**.
Ανοίξτε ξανά το IDE του Arduino, επιλέξτε **Αρχείο / Παραδείγματα / FirmataPlus / FiramataPlus** και μεταφορτώστε το στο Arduino.
![Github Robuino](/images/3.png)
Εάν βλέπετε προειδοποιήσεις κατά την φόρτωση του **FirmataPlus** στο IDE του Arduino, βεβαιωθείτε ότι έχετε ρυθμίσει το επίπεδο προειδοποιήσεων μεταγλωττιστή στο "Default" στην οθόνη Αρχείο / Προτιμήσεις. Εάν εξακολουθείτε να βλέπετε τις προειδοποιήσεις, πάρτε το τελευταίο αντίγραφο του libraries.zip και εγκαταστήστε το ξανά.



