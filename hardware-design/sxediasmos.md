## Σχεδιασμός του interface του παιχνιδιού και του κυκλώματος του χειριστηρίου

Η ομάδα πρώτα υλοποίησε τις δραστηριότητες του εκπαιδευτικού υλικού (https://github.com/8gymnperist/Robuino/blob/master/docs/support-docs.md ) και οικοδόμησε γνώσεις και δεξιότητες σχετικά με:

    • τη χρήση του breadboard,

    • τον προγραμματισμό του μικροελεγκτή (Arduino) με οπτικό προγραμματισμό σε περιβάλλον Scratch 2.0 (με εγκατεστημένη την επέκταση s2aio),

    • την σύνδεση και χρήση διακοπτών, αντιστάσεων, leds, buzzer και ποτενσιόμετρου. 

Στη συνέχεια:

**Α) σε πρώτο στάδιο** η ομάδα σχεδίασε και υλοποίησε στο Scratch τις επιφάνειες διεπαφής του παιχνιδιού Arduplane (interface/πίστες) με τα διάφορα αντικείμενα που θα περιλαμβάνονται στην οθόνη (σκηνή) και τους κανόνες για το χειρισμό και τη λειτουργία τους με το κύκλωμα του χειριστηρίου. 

**Πίστα με ένα εχθρικό αεροπλάνο (interface1)**

![Github Robuino](/images/interface1.png)

**Πίστα με δύο εχθρικά αεροπλάνα (interface2)**

![Github Robuino](/images/interface2.png)

Επίσης, σχεδίασε το κύκλωμα του χειριστηρίου και το υλοποίησε με χρήση breadboard και Arduino uno με βάση τη λειτουργία και τη σχέση του κάθε αντικειμένου της σκηνής με το χειριστήριο. Έτσι, πρώτα αναφέρουμε εδώ αναλυτικά το ρόλο του κάθε αντικειμένου επί της σκηνής, το συσχετισμό των αντικειμένων της σκηνής με τους αισθητήρες και ενεργοποιητές (buttons/κουμπιά,  ποτενσιόμετρο, leds και buzzer) και τη σύνδεσή τους με διάφορες ακίδες του Arduino:

![Github Robuino](/images/43.png)**Το αντικείμενο “my-plane”** είναι το αεροπλάνο το οποίο έχει πάντα σταθερή τη τεταγμένη της θέσης του και μετακινείται μόνο δεξιά και αριστερά μέσα στα όρια της σκηνής. Η κίνησή του αυτή γίνεται με το ποτενσιόμετρο του χειριστηρίου. Όταν το ποτενσιόμετρο έχει περιστραφεί και βρίσκεται  στη μέση τότε το αεροπλάνο θα έχει τετμημένη χ ίση με 0. Με συνεχή περιστροφή του ποτενσιόμετρου αριστερά η τετμημένη χ του αεροπλάνου “my-plane” ελαττώνεται διαρκώς, μέχρις  ότου φθάνει στην ακραία αριστερή θέση του και τότε η τετμημένη χ θα έχει τιμή -240 (το my-plane θα βρεθεί στο αριστερό άκρο της σκηνής). Αντίθετα, με συνεχή περιστροφή του ποτενσιόμετρου δεξιά η τετμημένη χ του αεροπλάνου “my-plane” αυξάνεται διαρκώς, μέχρις  ότου φθάνει στην ακραία δεξιά θέση του και τότε η τετμημένη χ θα έχει τιμή 240 (το my-plane θα βρεθεί στο δεξί άκρο της σκηνής). Στην εικόνα του κυκλώματος του χειριστηρίου  φαίνεται ότι **την έξοδο του ποτενσιόμετρου την έχουμε συνδέσει στην αναλογική είσοδο Α2 του Arduino.**

![Github Robuino](/images/44.png)**Το αντικείμενο “fire”** είναι τα βλήματα που εκτοξεύει το αεροπλάνο “my-plane” όταν πατάμε το διακόπτη (S1) στο κύκλωμα του χειριστηρίου. Το αντικείμενο “fire” εκτοξεύεται από τη θέση που έχει το “my-plane” τη στιγμή που πατάμε το διακόπτη. Όταν αγγίζει εχθρικό αεροπλάνο το βλήμα εξαφανίζεται και παράλληλα αυξάνει το σκορ κατά 20 πόντους. 
To διακόπτη (S1) τον έχουμε συνδέσει στην ψηφιακή είσοδο 8 του Arduino.  Κάθε φορά που πατιέται ο διακόπτης το Arduino διαβάζει στην ψηφιακή είσοδό του 8 την τιμή “HIGH”. Έτσι, αντιλαμβάνεται πότε πυροβολούμε.

![Github Robuino](/images/45.png)**Το αντικείμενο “spaceship-flat-icon1”** είναι εχθρικό αεροπλάνο και φροντίζουμε να έρχεται κάθε φορά από την αντίθετη πλευρά από αυτή που βρίσκεται το “my-plane” και από διαφορετική τετμημένη. Όταν συγκρουσθεί με το αεροπλάνο μας (“my-plane”) χάνουμε μια από τις ζωές μας. Όταν το παιχνίδι αρχίζει έχουμε 3 ζωές. Έτσι, όταν συγκρουσθεί εχθρικό αεροπλάνο τρεις φορές με το “my-plane” το παιχνίδι τελειώνει. 

![Github Robuino](/images/46.png)Έχουμε εισάγει τρία αντικείμενα σε εικονίδιο καρδιάς και με ονόματα: **“Heart Face1”, “Heart Face2”, "Heart Face3”**, αντίστοιχα. Κάθε ένα απ’ αυτά αντιστοιχεί και σε μία ζωή του “my-plane”. Σε κάθε ένα απ’ αυτά  αντιστοιχεί και ένα αντίστοιχο λαμπάκι στο κύκλωμα του χειριστηρίου. Με την έναρξη του παιχνιδιού φροντίζουμε τα εικονίδια να είναι εμφανή και τ’ αντίστοιχα λαμπάκια στο χειριστήριο να είναι αναμμένα. Όταν χάνουμε μια ζωή (γιατί εχθρικό αεροπλάνο συγκρούεται με το “my-plane”), τότε εξαφανίζεται ένα εικονίδιο καρδιάς, σβήνει το αντίστοιχο λαμπάκι (led) στο χειριστήριο και από το buzzer που έχει συνδεθεί με την έξοδο 10 (τόνος) του Arduino ακούγεται ένας χαρακτηριστικός ήχος. Όταν χάνουμε την πρώτη ζωή εξαφανίζεται το “Heart Face1” και σβήνει στο χειριστήριο το λαμπάκι που έχει συνδεθεί με την ψηφιακή έξοδο 11 του Arduino. Με την δεύτερη ζωή που χάνουμε εξαφανίζεται το “Heart Face2” και σβήνει στο χειριστήριο το λαμπάκι που έχει συνδεθεί με την ψηφιακή έξοδο 12 του Arduino. Ενώ, όταν χάνουμε και την τρίτη ζωή τότε εξαφανίζεται το “Heart Face3”, σβήνει στο χειριστήριο το λαμπάκι που έχει συνδεθεί με την έξοδο 13 του Arduino και το παιχνίδι τελειώνει.

![Github Robuino](/images/49.png)**Το αντικείμενο “spaceship-flat-icon2”** είναι ένα δεύτερο εχθρικό αεροπλάνο το οποίο έρχεται μαζί με το αντικείμενο “spaceship-flat-icon1”  από την αντίθετη πλευρά εναντίον του “my-plane” και έτσι αυξάνεται ο βαθμός δυσκολίας του παιχνιδιού ενώ παράλληλα αλλάζει και το σκηνικό. Αυτό συμβαίνει όταν πατηθεί στο χειριστήριο ο διακόπτης  (S2), ο οποίος είναι συνδεδεμένος με την ψηφιακή είσοδο 9 του Arduino.

Με βάση τα παραπάνω σχεδιάσαμε το χειριστήριο ώς εξής:

**Το σχέδιο του χειριστηρίου**

![Github Robuino](/images/circuit.png)

Ακολουθούν εικόνες και βίντεο κατά την εργασία της ομάδας για την κατασκευή του πρωτοτύπου  (με χρήση του breadboard) και τον έλεγχο του κυκλώματος και του προγράμματος.

**Εικόνες από την κατασκευή του πρωτοτύπου κυκλώματος (με χρήση breadboard και Arduino uno)**

![Github Robuino](/images/build-pr-1.JPG)  ![Github Robuino](/images/build-pr-2.JPG)

![Github Robuino](/images/build-pr-4.JPG)  ![Github Robuino](/images/build-pr-5.JPG)

![Github Robuino](/images/build-pr-6.JPG)  ![Github Robuino](/images/build-prot-teliko.png)

Επίσης, το κύκλωμα (του χειριστηρίου) σε συνδυασμό με το λογισμικό που υλοποίησε για το προγραμματισμό του ( τεκμηρίωση λογισμικού:  https://github.com/8gymnperist/Robuino/blob/master/code/code-directory.md )  δοκιμάσθηκε σε τρία λειτουργικά συστήματα: α) Windows 7  β) Linux ubuntu mate 18.04  γ) Raspbian (Raspberry pi 3 B).

**Βίντεο με την περιγραφή του κυκλώματος του χειριστηρίου**

https://drive.google.com/file/d/1VMEDgMzQeXfBxuYJhJ0yQAQAG7ydDfGr/view?usp=sharing 


**Β) Σε δεύτερο στάδιο** η ομάδα το δοκιμασμένο πλέον κύκλωμα  του χειριστηρίου το κατασκεύασε σε διάτρητη πλακέτα και αντικατέστησε το Arduino uno με Arduino nano. Το έλεγξε για τη σωστή λειτουργία του  και το τοποθέτησε σε κουτί.
Εικόνες και βίντεο από την παραπάνω διαδικασία κατασκευής και ελέγχου παρουσιάζονται παρακάτω.

**Κατασκευή χειριστηρίου με διάτρητη πλακέτα**

![Github Robuino](/images/pcb-1.JPG)  ![Github Robuino](/images/pcb-2.JPG)

![Github Robuino](/images/pcb-3.JPG)  ![Github Robuino](/images/pcb-5.JPG)

![Github Robuino](/images/pcb-6.JPG)  ![Github Robuino](/images/pcb-7.JPG)

![Github Robuino](/images/pcb-8.JPG)  ![Github Robuino](/images/pcb-9.JPG)

![Github Robuino](/images/pcb-10.JPG)  ![Github Robuino](/images/pcb-11.JPG)

![Github Robuino](/images/pcb-12.JPG)  ![Github Robuino](/images/pcb-14.JPG)


**Βίντεο. Κατασκευή χειριστηρίου με διάτρητη πλακέτα**


Δείτε το σχετικό βίντεο ( https://youtu.be/ypIJa9_6-cQ ) για την κατασκευή του χειριστηρίου με διάτρητη πλακέτα και την τοποθέτησή του σε κατάλληλο κουτί.

https://drive.google.com/file/d/1WC1EpmGAygGCiTjIm5gPGhKAHugTn4Rc/view?usp=sharing 


